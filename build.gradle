buildscript {
    repositories {
        maven {
            name = 'forge'
            url = 'https://files.minecraftforge.net/maven/'
        }
        jcenter()
        mavenCentral()
    }
    dependencies {
        classpath 'net.minecraftforge.gradle:ForgeGradle:2.3-SNAPSHOT'
    }
}

apply plugin: 'net.minecraftforge.gradle.forge'
apply plugin: 'idea'
apply plugin: 'maven'
apply plugin: 'maven-publish'

version = "${minecraft_version}-${mod_version}" //." + (System.env.BUILD_NUMBER ?: "homebaked")
group = 'tonius.simplyjetpacks'
archivesBaseName = 'SimplyJetpacks2'

sourceCompatibility = targetCompatibility = compileJava.sourceCompatibility = compileJava.targetCompatibility = '1.8'

minecraft {
    version = "${minecraft_version}-${forge_version}"
    runDir = "run"
    mappings = "${mappings_version}"

    //makeObfSourceJar = false
    //accessTransformer = file('src/main/resources/META-INF/accesstransformer.cfg')
}

repositories {
    maven {
        name = "Progwml6 Maven"
        url = "http://dvs1.progwml6.com/files/maven/"
    }
    maven {
        name = "ChickenBones Maven"
        url = "http://chickenbones.net/maven/"
    }
    maven {
        name = "Covers Maven"
        url = "https://maven.covers1624.net/"
    }
    maven {
        name = "Curse Maven"
        url = "https://www.cursemaven.com/"
    }
    maven {
        name = "blamejared maven"
        url = "https://maven.blamejared.com/"
    }
}

dependencies {
    apiCompile "curse.maven:mekanism:2835176"
    runtime "curse.maven:mekanism:2835175"

    //runtime "blusunrize.Immersiveengineering:0.12-93-559:ImmersiveEngineering-0.12-93-559"

    runtime "codechicken:CodeChickenLib:${codechickenlib_version}:universal"
    compile "cofh:CoFHCore:1.12.2-4.6.+:deobf"
    runtime "cofh:CoFHWorld:1.12.2-1.2.+:universal"
    runtime "cofh:ThermalFoundation:1.12.2-2.6.+:universal"
    runtime "cofh:ThermalDynamics:1.12.2-2.5.+:universal"
    runtime "cofh:ThermalExpansion:1.12.2-5.5.+:universal"

    runtime "cofh:RedstoneArsenal:1.12.2-2.6.+:universal"
    compile "cofh:RedstoneFlux:1.12-2.1.+:deobf"
    compile "curse.maven:redstone-repository-revolved:2695517"
}

processResources {
    inputs.property "version", project.version
    inputs.property "mcversion", project.minecraft.version

    from(sourceSets.main.resources.srcDirs) {
        include 'mcmod.info'
        expand 'version':project.version, 'mcversion':project.minecraft.version
    }
    from(sourceSets.main.resources.srcDirs) {
        exclude 'mcmod.info'
    }
}
